<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>KNIT SULTANPUR—Book Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #f5f7fb;
      --panel: rgba(255,255,255,0.96);
      --border: #e5e7eb;
      --text: #1f2937;
      --muted: #6b7280;
      --primary: #0d6efd;
      --primary-600: #0b5ed7;
      --danger: #dc3545;
      --danger-600: #bb2d3b;
      --success: #198754;
      --success-600: #157347;
      --price: #0f766e;
      --shadow: 0 6px 24px rgba(0,0,0,0.08);
    }

    html, body { height: 100%; scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Arial, sans-serif;
      color: var(--text);
      background-color: var(--bg);
      /* Page background image (no-repeat) */
      background-image: url('https://ik.imagekit.io/syustaging/SYU_PREPROD/logo_deSQJRrhtC.webp?tr=w-3840');
      background-repeat: no-repeat;
      background-size: cover;
      background-attachment: fixed;
    }

    /* Link states */
    a:link { color: var(--primary); }
    a:visited { color: #6f42c1; }
    a:hover { color: var(--primary-600); text-decoration: underline; }
    a:active { color: #084298; }

    /* Header */
    .header {
      position: sticky; top: 0; z-index: 10;
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 16px;
      background: rgba(255,255,255,0.9);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(6px);
    }
    .brand { display: flex; align-items: center; gap: 12px; }
    .brand-logo { width: 44px; height: 44px; border-radius: 8px; }
    .brand-text { display: flex; flex-direction: column; }
    .brand-name { font-weight: 800; font-size: 20px; letter-spacing: 0.3px; }
    .brand-subtitle { color: var(--muted); font-size: 12px; }
    .top-links a { margin-left: 12px; text-decoration: none; font-weight: 600; }
    .top-links a.disabled { opacity: 0.5; pointer-events: none; }

    .container { max-width: 1100px; margin: 16px auto; padding: 0 12px; }

    /* Panel with background texture (repeat) */
    .panel {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: var(--shadow);
      background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      background-repeat: repeat; /* single element background-repeat demo */
    }

    .catalogue-header {
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
    }
    .branch-switcher { display: flex; align-items: center; gap: 8px; }

    /* Forms */
    .form-row { display: grid; grid-template-columns: 180px 1fr; gap: 10px; align-items: center; margin: 10px 0; }
    .form-row label { font-weight: 600; }
    .form-row input, .form-row select, .form-row textarea {
      padding: 8px 10px; border: 1px solid var(--border); border-radius: 8px; background: #fff;
    }
    .form-actions { margin-top: 6px; display: flex; gap: 10px; flex-wrap: wrap; }
    .error { color: var(--danger); font-size: 0.9em; min-height: 1.2em; }
    .muted { color: var(--muted); }
    .small { font-size: 0.9em; }

    /* Buttons */
    .btn { padding: 8px 12px; border-radius: 8px; border: 1px solid var(--border); background: #fff; cursor: pointer; }
    .btn:hover { background: #f8fafc; }
    .btn-compact { padding: 4px 8px; }
    .btn-primary { background: var(--primary); color: #fff; border-color: var(--primary); }
    .btn-primary:hover { background: var(--primary-600); }
    .btn-danger { background: var(--danger); color: #fff; border-color: var(--danger); }
    .btn-danger:hover { background: var(--danger-600); }
    .btn-success { background: var(--success); color: #fff; border-color: var(--success); }
    .btn-success:hover { background: var(--success-600); }
    .btn-link { background: transparent; border: none; color: var(--primary); padding: 0 4px; }
    .btn-link:hover { text-decoration: underline; background: transparent; }

    /* Tables */
    .books { width: 100%; border-collapse: collapse; }
    .books th, .books td { padding: 10px; border-bottom: 1px solid var(--border); text-align: left; vertical-align: middle; }
    .books thead th { background: #f1f5f9; }
    .price { font-weight: 700; color: var(--price); }
    .total-label { text-align: right; font-weight: 600; }
    .total-label.grand, .price.grand { font-size: 1.1em; }

    .cart-item { display: flex; align-items: center; gap: 10px; }
    .cart-title { font-weight: 600; }
    .qty-cell { white-space: nowrap; }

    /* Utility */
    .hidden { display: none !important; }

    /* Modal */
    .modal { position: fixed; inset: 0; display: none; }
    .modal:not(.hidden) { display: block; }
    .modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.35); }
    .modal-dialog {
      position: relative; z-index: 2;
      max-width: 520px; margin: 12vh auto; background: #fff;
      border-radius: 12px; border: 1px solid var(--border);
      padding: 16px; box-shadow: var(--shadow);
    }

    /* Footer */
    .footer { padding: 20px 0 40px; text-align: center; color: var(--muted); }
  </style>
</head>
<body>
  <header class="header">
    <div class="brand">
      <img class="brand-logo" src="data:image/jpeg;base64,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" alt="College Logo">
      <div class="brand-text">
        <div class="brand-name">KNIT SULTANPUR</div>
        <div class="brand-subtitle">College Book Store</div>
      </div>
    </div>
    <nav class="top-links">
      <a href="#login-section">Login</a>
      <a href="#catalogue-section" id="nav-catalogue" class="disabled" aria-disabled="true">Catalogue</a>
      <a href="#cart-section" id="nav-cart" class="disabled" aria-disabled="true">Cart</a>
    </nav>
  </header>

  <main class="container">
    <!-- Login Section -->
    <section id="login-section" class="panel">
      <h2>Login</h2>
      <form id="login-form" novalidate>
        <div class="form-row">
          <label for="username">Username</label>
          <input id="username" name="username" type="text" placeholder="Enter username" required>
          <div class="error" id="username-error"></div>
        </div>
        <div class="form-row">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" placeholder="Enter password" required>
          <div class="error" id="password-error"></div>
        </div>
        <div class="form-row">
          <label for="branch">Branch</label>
          <select id="branch" name="branch" required>
            <option value="" disabled selected>Select branch</option>
            <option value="CSE">CSE</option>
            <option value="ECE">ECE</option>
            <option value="EEE">EEE</option>
            <option value="CIVIL">CIVIL</option>
          </select>
          <div class="error" id="branch-error"></div>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Login</button>
          <button type="reset" class="btn">Reset</button>
          <button type="button" class="btn btn-link" id="forgot-link">Forgot password?</button>
        </div>
      </form>
      <p class="muted small">This demo validates inputs locally; no server is required.</p>
    </section>

    <!-- Catalogue Section (hidden until login) -->
    <section id="catalogue-section" class="panel hidden">
      <div class="catalogue-header">
        <div>
          <h2>Catalogue — <span id="current-branch">CSE</span></h2>
          <div class="muted">Welcome, <span id="greeting-username">Guest</span>!</div>
        </div>
        <div class="branch-switcher">
          <label for="branch-select">Change branch</label>
          <select id="branch-select">
            <option value="CSE">CSE</option>
            <option value="ECE">ECE</option>
            <option value="EEE">EEE</option>
            <option value="CIVIL">CIVIL</option>
          </select>
        </div>
      </div>

      <table class="books" id="catalogue-table" aria-label="Books Catalogue">
        <thead>
          <tr>
            <th>Cover</th>
            <th>Book</th>
            <th>Author</th>
            <th>Publisher</th>
            <th>Price</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="catalogue-body">
          <!-- Filled by JS -->
        </tbody>
      </table>
    </section>

    <!-- Cart Section (visible after login) -->
    <section id="cart-section" class="panel hidden">
      <h2>Your Cart</h2>
      <p id="cart-empty" class="muted">Your cart is empty.</p>
      <table class="books" id="cart-table" aria-label="Cart Table">
        <thead>
          <tr>
            <th>Item</th>
            <th>Branch</th>
            <th>Qty</th>
            <th>Unit Price</th>
            <th>Line Total</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="cart-items">
          <!-- Filled by JS -->
        </tbody>
        <tfoot>
          <tr>
            <td colspan="4" class="total-label">Subtotal</td>
            <td class="price" id="subtotal">$0.00</td>
            <td></td>
          </tr>
          <tr>
            <td colspan="4" class="total-label">Tax (5%)</td>
            <td class="price" id="tax">$0.00</td>
            <td></td>
          </tr>
          <tr>
            <td colspan="4" class="total-label grand">Grand Total</td>
            <td class="price grand" id="grand-total">$0.00</td>
            <td></td>
          </tr>
        </tfoot>
      </table>
      <div class="form-actions">
        <button type="button" class="btn btn-danger" id="clear-cart">Clear Cart</button>
        <button type="button" class="btn btn-success" id="checkout">Checkout</button>
      </div>
    </section>
  </main>

  <!-- Forgot Password Modal -->
  <div id="forgot-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="forgot-title">
    <div class="modal-backdrop" data-close="true"></div>
    <div class="modal-dialog">
      <h3 id="forgot-title">Reset Password</h3>
      <p class="muted small">Enter your email or username. We’ll simulate sending a reset link.</p>
      <form id="forgot-form">
        <div class="form-row">
          <label for="forgot-identifier">Email or Username</label>
          <input id="forgot-identifier" name="identifier" type="text" placeholder="name@domain.com or username" required>
          <div class="error" id="forgot-error"></div>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Send reset link</button>
          <button type="button" class="btn" data-close="true">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <footer class="footer">
    <div class="container small muted">
    </div>  
      © <span id="year"></span> KNIT College Book Store — Demo single-page site by 
<span style="color: black; font-weight: bold;">ANAYAT GULL</span>
</div>
    </div>
    </footer>

  <script>
    (function () {
      'use strict';

      // Demo data by branch
      const BOOKS = {
        CSE: [
          { id: 'ai', title: 'AI', author: 'S. Russel', publisher: 'Prentice Hall', price: 63.0, img: 'https://picsum.photos/seed/ai/80/100' },
          { id: 'java-2', title: 'Java 2', author: 'Watson', publisher: 'BPB Publications', price: 35.5, img: 'https://picsum.photos/seed/java/80/100' },
          { id: 'html-24', title: 'HTML in 24 Hours', author: 'Sam Peter', publisher: 'Sam Publication', price: 50.0, img: 'https://picsum.photos/seed/html/80/100' },
          { id: 'xml-bible', title: 'XML Bible', author: 'Winston', publisher: 'Wiley', price: 40.5, img: 'https://picsum.photos/seed/xml/80/100' }
        ],
        ECE: [
          { id: 'dsp', title: 'Digital Signal Processing', author: 'Proakis', publisher: 'McGraw-Hill', price: 48.0, img: 'https://picsum.photos/seed/dsp/80/100' },
          { id: 'vlsi', title: 'VLSI Design', author: 'S. Kang', publisher: 'Tata McGraw-Hill', price: 45.0, img: 'https://picsum.photos/seed/vlsi/80/100' }
        ],
        EEE: [
          { id: 'machines', title: 'Electrical Machines', author: 'P. S. Bimbhra', publisher: 'Khanna', price: 50.0, img: 'https://picsum.photos/seed/machines/80/100' },
          { id: 'power', title: 'Power Systems', author: 'C. L. Wadhwa', publisher: 'New Age', price: 55.0, img: 'https://picsum.photos/seed/power/80/100' }
        ],
        CIVIL: [
          { id: 'struct', title: 'Structural Analysis', author: 'R. C. Hibbeler', publisher: 'Pearson', price: 60.0, img: 'https://picsum.photos/seed/struct/80/100' },
          { id: 'concrete', title: 'Concrete Technology', author: 'M. S. Shetty', publisher: 'S. Chand', price: 40.0, img: 'https://picsum.photos/seed/concrete/80/100' }
        ]
      };

      const TAX_RATE = 0.05;

      // State (persisting only the cart)
      function getCart() {
        try { return JSON.parse(localStorage.getItem('cart')) || []; } catch { return []; }
      }
      function setCart(cart) { localStorage.setItem('cart', JSON.stringify(cart)); }

      // Helpers
      function $(sel) { return document.querySelector(sel); }
      function $all(sel) { return Array.from(document.querySelectorAll(sel)); }
      function money(n) { return '$' + (Number(n) || 0).toFixed(2); }
      function show(el) { el.classList.remove('hidden'); }
      function hide(el) { el.classList.add('hidden'); }

      // Login flow
      function handleLoginSubmit(e) {
        e.preventDefault();
        clearLoginErrors();

        const username = $('#username').value.trim();
        const password = $('#password').value;
        const branch = $('#branch').value;

        let ok = true;
        if (username.length < 3) { $('#username-error').textContent = 'Username must be at least 3 characters.'; ok = false; }
        if (password.length < 6) { $('#password-error').textContent = 'Password must be at least 6 characters.'; ok = false; }
        if (!branch) { $('#branch-error').textContent = 'Please select your branch.'; ok = false; }
        if (!ok) return;

        // Simulate successful login
        $('#greeting-username').textContent = username;
        $('#current-branch').textContent = branch;
        $('#branch-select').value = branch;

        hide($('#login-section'));
        show($('#catalogue-section'));
        show($('#cart-section'));

        // Enable nav
        enableNavLinks();

        renderCatalogue(branch);
        renderCart();
      }

      function enableNavLinks() {
        ['#nav-catalogue', '#nav-cart'].forEach(sel => {
          const link = $(sel);
          link.classList.remove('disabled');
          link.removeAttribute('aria-disabled');
        });
      }

      function clearLoginErrors() {
        ['#username-error', '#password-error', '#branch-error'].forEach(sel => { $(sel).textContent = ''; });
      }

      // Catalogue rendering
      function renderCatalogue(branch) {
        const tbody = $('#catalogue-body');
        const data = BOOKS[branch] || [];
        tbody.innerHTML = '';
        data.forEach(book => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td><img src="${book.img}" alt="${book.title}" width="48" height="64"></td>
            <td>${book.title}</td>
            <td>${book.author}</td>
            <td>${book.publisher}</td>
            <td class="price">${money(book.price)}</td>
            <td><button class="btn btn-primary add-btn" data-id="${book.id}" data-branch="${branch}">Add to cart</button></td>
          `;
          tbody.appendChild(tr);
        });

        // Attach add-to-cart handlers
        $all('.add-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const id = btn.getAttribute('data-id');
            const br = btn.getAttribute('data-branch');
            const book = (BOOKS[br] || []).find(b => b.id === id);
            if (book) addToCart({ ...book, branch: br });
          });
        });

        $('#current-branch').textContent = branch;
      }

      // Cart operations
      function addToCart(item) {
        const cart = getCart();
        const idx = cart.findIndex(x => x.id === item.id && x.branch === item.branch);
        if (idx >= 0) {
          cart[idx].qty = (cart[idx].qty || 1) + 1;
        } else {
          cart.push({ id: item.id, title: item.title, price: item.price, qty: 1, author: item.author, publisher: item.publisher, img: item.img, branch: item.branch });
        }
        setCart(cart);
        renderCart();
      }

      function changeQty(id, branch, delta) {
        const cart = getCart();
        const idx = cart.findIndex(x => x.id === id && x.branch === branch);
        if (idx >= 0) {
          cart[idx].qty = Math.max(1, (cart[idx].qty || 1) + delta);
          setCart(cart);
          renderCart();
        }
      }

      function removeItem(id, branch) {
        const cart = getCart().filter(x => !(x.id === id && x.branch === branch));
        setCart(cart);
        renderCart();
      }

      function clearCart() {
        setCart([]);
        renderCart();
      }

      function renderCart() {
        const cart = getCart();
        const tbody = $('#cart-items');
        const empty = $('#cart-empty');
        tbody.innerHTML = '';

        if (cart.length === 0) {
          empty.style.display = 'block';
        } else {
          empty.style.display = 'none';
        }

        let subtotal = 0;
        cart.forEach(item => {
          const line = (item.qty || 1) * (Number(item.price) || 0);
          subtotal += line;

          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>
              <div class="cart-item">
                <img src="${item.img}" alt="${item.title}" width="40" height="54">
                <div>
                  <div class="cart-title">${item.title}</div>
                  <div class="muted small">${item.author} — ${item.publisher}</div>
                </div>
              </div>
            </td>
            <td>${item.branch}</td>
            <td class="qty-cell">
              <button class="btn btn-compact" data-action="dec" data-id="${item.id}" data-branch="${item.branch}">−</button>
              <span class="qty">${item.qty || 1}</span>
              <button class="btn btn-compact" data-action="inc" data-id="${item.id}" data-branch="${item.branch}">+</button>
            </td>
            <td class="price">${money(item.price)}</td>
            <td class="price">${money(line)}</td>
            <td><button class="btn btn-danger btn-compact" data-action="remove" data-id="${item.id}" data-branch="${item.branch}">Remove</button></td>
          `;
          tbody.appendChild(tr);
        });

        // Totals
        const tax = subtotal * TAX_RATE;
        const grand = subtotal + tax;
        $('#subtotal').textContent = money(subtotal);
        $('#tax').textContent = money(tax);
        $('#grand-total').textContent = money(grand);

        // Delegated handlers for qty/change/remove
        tbody.querySelectorAll('button[data-action]').forEach(btn => {
          const id = btn.getAttribute('data-id');
          const branch = btn.getAttribute('data-branch');
          const action = btn.getAttribute('data-action');

          if (action === 'inc') btn.addEventListener('click', () => changeQty(id, branch, +1));
          if (action === 'dec') btn.addEventListener('click', () => changeQty(id, branch, -1));
          if (action === 'remove') btn.addEventListener('click', () => removeItem(id, branch));
        });
      }

      // Forgot password modal
      function openForgot() {
        $('#forgot-identifier').value = '';
        $('#forgot-error').textContent = '';
        show($('#forgot-modal'));
      }
      function closeForgot() { hide($('#forgot-modal')); }
      function handleForgotSubmit(e) {
        e.preventDefault();
        const value = $('#forgot-identifier').value.trim();
        if (!value) {
          $('#forgot-error').textContent = 'Please enter your email or username.';
          return;
        }
        closeForgot();
        alert('If this were connected to a server, a reset link would be sent to: ' + value);
      }

      // Events
      function wireEvents() {
        $('#login-form').addEventListener('submit', handleLoginSubmit);
        $('#branch-select').addEventListener('change', e => renderCatalogue(e.target.value));
        $('#clear-cart').addEventListener('click', clearCart);
        $('#checkout').addEventListener('click', () => {
          const total = $('#grand-total').textContent;
          alert('Checkout successful.\\nTotal billed: ' + total + '\\n\\n(This is a demo; no payment is processed.)');
          clearCart();
        });

        // Forgot modal open/close
        $('#forgot-link').addEventListener('click', openForgot);
        $('#forgot-form').addEventListener('submit', handleForgotSubmit);
        document.addEventListener('click', (e) => {
          const tgt = e.target;
          if (tgt && (tgt.getAttribute('data-close') === 'true')) closeForgot();
        });

        // Footer year
        const y = new Date().getFullYear();
        const yearEl = document.getElementById('year');
        if (yearEl) yearEl.textContent = y;
      }

      // Init
      document.addEventListener('DOMContentLoaded', () => {
        wireEvents();
      });
    })();
  </script>
</body>
</html>